# デザインコンセプト

## 概要

「発音記号インデックス」は、ELSA Speakで英語発音を学習中のユーザー向けの発音記号リファレンスアプリ。プロフェッショナルなダークモードを基調とし、発音記号が主役のミニマルデザインで、辞書・リファレンスツールとしての信頼感を重視する。

---

## デザイン原則

### 1. 記号の視認性 (Symbol Visibility)

発音記号が画面の主役。大きく明瞭に表示し、一覧性とタップしやすさを両立する。

- 発音記号は24-28pxで表示し、一目で識別可能に
- カード内の情報階層を明確にし、記号 > サブカテゴリの順に視線を誘導
- 十分な余白で各カード間の視覚的分離を確保

### 2. 段階的な情報開示 (Progressive Disclosure)

必要な情報を必要なタイミングで。一覧では概要のみ、タップで詳細を展開。

- 閉じ状態: 発音記号 + サブカテゴリのみ
- 展開状態: 調音点、例語、近似音、発音の仕方を表示
- タブで大分類を切り替え、セクション見出しで中分類を整理

### 3. 静かな信頼感 (Quiet Confidence)

装飾を控え、情報の正確さとレイアウトの整然さで信頼を伝える。

- 過剰なアニメーションやゲーミフィケーション要素を排除
- 統一されたスペーシングと一貫した色使い
- IPA記号の専門性を損なわない、プロフェッショナルな佇まい

---

## カラーシステム

### ベース: ダークモード

| 用途                 | カラー    | 説明                       |
| -------------------- | --------- | -------------------------- |
| Background Primary   | `#0A0A0B` | メイン背景                 |
| Background Secondary | `#141416` | カード・セクション背景     |
| Background Tertiary  | `#1C1C1F` | ホバー・アクティブ状態     |
| Surface              | `#242428` | ボタン背景・入力フィールド |

### テキスト

| 用途           | カラー    | コントラスト比 | 説明                   |
| -------------- | --------- | -------------- | ---------------------- |
| Text Primary   | `#FAFAFA` | 19.3:1         | 発音記号・見出し       |
| Text Secondary | `#A1A1AA` | 7.4:1          | 本文・説明テキスト     |
| Text Muted     | `#71717A` | 4.6:1          | サブカテゴリ・補足情報 |

### アクセント: ブルー系

| 用途           | カラー                    | 説明                                     |
| -------------- | ------------------------- | ---------------------------------------- |
| Accent Primary | `#3B82F6`                 | 選択中タブ・アンダーライン               |
| Accent Hover   | `#2563EB`                 | ホバー状態                               |
| Accent Muted   | `#1E3A5F`                 | 背景アクセント・展開中カードのハイライト |
| Accent Glow    | `rgba(59, 130, 246, 0.2)` | フォーカス時のグロー効果                 |

### セマンティック

| 用途    | カラー    | 説明                   |
| ------- | --------- | ---------------------- |
| Success | `#22C55E` | 成功・正解（将来利用） |
| Warning | `#F59E0B` | 注意（将来利用）       |
| Error   | `#EF4444` | エラー（将来利用）     |

---

## タイポグラフィ

### フォント

```css
/* 発音記号（IPA） */
font-family: 'Noto Sans', 'Segoe UI', system-ui, sans-serif;

/* 日本語テキスト */
font-family: 'Noto Sans JP', 'Hiragino Sans', sans-serif;
```

> Noto Sans はIPA記号の網羅性が高く、日本語版（Noto Sans JP）と統一感が保てる。

### スケール

| 名称      | サイズ          | 用途                                 |
| --------- | --------------- | ------------------------------------ |
| Display   | 28px / 1.75rem  | 発音記号（カード閉じ状態）           |
| Heading 1 | 24px / 1.5rem   | ページタイトル                       |
| Heading 2 | 18px / 1.125rem | セクション見出し（破裂音・摩擦音等） |
| Body      | 16px / 1rem     | 展開時の説明テキスト                 |
| Small     | 14px / 0.875rem | サブカテゴリ・属性ラベル             |
| Caption   | 12px / 0.75rem  | 補足情報・注釈                       |

### ウェイト

| 名称     | Weight | 用途                       |
| -------- | ------ | -------------------------- |
| Bold     | 700    | 発音記号・セクション見出し |
| Semibold | 600    | タブラベル・展開内の項目名 |
| Regular  | 400    | 本文・説明テキスト         |

---

## スペーシング

### 基準値: 4px

```
4px  (0.25rem) - 極小間隔（アイコンとテキスト間）
8px  (0.5rem)  - 小間隔（カード内要素間）
12px (0.75rem) - コンパクト間隔（ラベル間）
16px (1rem)    - 標準間隔（カード内パディング）
24px (1.5rem)  - セクション間隔（セクション見出しの上下）
32px (2rem)    - 大間隔（タブコンテンツの上余白）
```

### レイアウト

- コンテンツ最大幅: 768px
- 画面パディング: 16px（モバイル）/ 32px（デスクトップ）
- カード内パディング: 16px
- カード間ギャップ: 12px
- グリッド列数: 3列（モバイル）/ 4-6列（タブレット・PC）

---

## コンポーネント

### タブバー

```
タブバー:
- 背景: Background Primary
- 位置: ヘッダー下に固定（sticky）
- スタイル: アンダーライン型

タブ（非選択）:
- テキスト: Text Muted (#71717A)
- フォント: 14px Semibold

タブ（選択中）:
- テキスト: Text Primary (#FAFAFA)
- アンダーライン: Accent Primary (#3B82F6), 2px, アニメーション付き
- フォント: 14px Semibold

モバイル:
- 横スクロール可能
- スクロールヒントとして右端にフェード効果
```

### セクション見出し

```
セクション見出し:
- テキスト: Text Secondary (#A1A1AA)
- フォント: 18px Bold
- 形式: 「破裂音（Plosives）」
- 上マージン: 24px
- 下マージン: 12px
- スタイル: テキストのみ（装飾なし）
```

### 発音記号カード（閉じ状態）

```
カード（閉じ状態）:
- 背景: Background Secondary (#141416)
- ボーダー: 1px solid #242428
- 角丸: 10px
- パディング: 16px
- 最小タッチターゲット: 44x44px

発音記号:
- フォント: 28px Bold
- カラー: Text Primary (#FAFAFA)
- 配置: 中央揃え

サブカテゴリ:
- フォント: 12px Regular
- カラー: Text Muted (#71717A)
- 配置: 中央揃え

ホバー/タップ:
- 背景: Background Tertiary (#1C1C1F)
- transition: background 150ms ease
```

### 発音記号カード（展開状態）

```
カード（展開状態）:
- 背景: Background Secondary (#141416)（同色背景で自然に拡張）
- ボーダー: 1px solid Accent Muted (#1E3A5F)
- 角丸: 10px
- 展開アニメーション: height 250ms ease-out + opacity 200ms ease

ヘッダー部:
- 発音記号: 28px Bold, Text Primary
- 開閉アイコン: ▾（キャレット）, Text Muted, 回転アニメーション

詳細部:
- 項目ラベル（調音点:、例語: 等）: 14px Semibold, Text Muted
- 項目値: 14px Regular, Text Secondary
- 行間: 8px

発音の仕方セクション:
- 見出し: 14px Semibold, Text Secondary
- 本文: 16px Regular, Text Secondary, line-height 1.6
- 上マージン: 12px
```

---

## 画面別UI仕様

### 1. メイン画面（全体構成）

```
構成:
- ヘッダー（固定）: ページタイトル「発音記号インデックス」
- タブバー（sticky）: 子音 | 単母音 | 二重母音 | R母音
- コンテンツエリア（スクロール）: セクション見出し + カードグリッド

特徴:
- 単一ページ構成（ページ遷移なし）
- タブ切り替えはクライアントサイドで即時
- 初期表示は「子音」タブ
- ヘッダー + タブバーはスクロールしても常に表示
```

### 2. カードグリッド（タブコンテンツ）

```
構成:
- セクション見出し（テキストのみ）
- カードグリッド（3列@モバイル / 4-6列@PC）

特徴:
- グリッド内のカードは均等幅
- セクション見出しはグリッド全幅を使用
- セクション間に24pxの余白
```

### 3. カード展開状態

```
構成:
- ヘッダー: 発音記号 + 開閉キャレット
- 属性一覧: 調音点/開口度、例語+ELSA表記、日本語近似音
- 発音の仕方: テキスト説明

特徴:
- グリッド内で縦方向に拡張（後続カードはリフロー）
- 同時に複数展開可能
- 背景は同色で自然に拡張
- ボーダーがAccent Mutedに変化して展開中であることを示す
```

---

## アニメーション

### 使用する場面

1. **アコーディオン展開/収縮**: height + opacity の組み合わせ（250ms ease-out）
2. **タブ切り替え**: アンダーラインのスライドアニメーション（200ms ease）
3. **カードタップフィードバック**: 背景色の遷移（150ms ease）
4. **キャレット回転**: 展開時に180度回転（200ms ease）

### 使用しない場面

- ページロード時のフェードイン
- スクロール連動のパララックス効果
- カードの出現アニメーション（staggered animation）

### パフォーマンス指針

```
- transform と opacity を優先的に使用
- height アニメーションは max-height で代用可
- will-change は展開中のカードのみに適用
- prefers-reduced-motion メディアクエリでアニメーション無効化に対応
- 60fps を維持
```

---

## レスポンシブ設計

### ブレイクポイント

```
Mobile:  < 640px  (最優先)
Tablet:  640px - 1024px
Desktop: > 1024px
```

### モバイルファースト原則

- モバイルを基準にデザインし、PC向けに拡張
- タブバーは横スクロール対応（モバイル）、全タブ表示（PC）
- カードグリッドは3列（モバイル）→ 4-6列（PC）に拡張
- タッチターゲットは全デバイスで最低44x44px

### デバイス別の調整

| 要素               | Mobile (<640px) | Tablet (640-1024px) | Desktop (>1024px) |
| ------------------ | --------------- | ------------------- | ----------------- |
| グリッド列数       | 3列             | 4列                 | 5-6列             |
| 画面パディング     | 16px            | 24px                | 32px              |
| タブバー           | 横スクロール    | 全タブ表示          | 全タブ表示        |
| カード内パディング | 12px            | 16px                | 16px              |
| 発音記号サイズ     | 24px            | 28px                | 28px              |

---

## アクセシビリティ

### 必須対応

- カラーコントラスト比 4.5:1 以上（全テキスト）
- タッチターゲット 44px x 44px 以上
- フォーカス状態の視覚的表示（Accent Glow）
- `prefers-reduced-motion` への対応

### 発音記号リファレンス特有の配慮

- タブ: `role="tablist"` / `role="tab"` / `aria-selected`
- タブパネル: `role="tabpanel"` / `aria-labelledby`
- アコーディオン: `<button>` + `aria-expanded` + `aria-controls`
- セクション見出し: `<h2>` でセマンティックに構造化
- 発音記号のUnicode: スクリーンリーダーが正しく読み上げるようにaria-labelで補足

---

## CSS変数定義

```css
:root {
  /* Background */
  --bg-primary: #0a0a0b;
  --bg-secondary: #141416;
  --bg-tertiary: #1c1c1f;
  --surface: #242428;

  /* Text */
  --text-primary: #fafafa;
  --text-secondary: #a1a1aa;
  --text-muted: #71717a;

  /* Accent (Blue) */
  --accent-primary: #3b82f6;
  --accent-hover: #2563eb;
  --accent-muted: #1e3a5f;
  --accent-glow: rgba(59, 130, 246, 0.2);

  /* Semantic */
  --success: #22c55e;
  --warning: #f59e0b;
  --error: #ef4444;

  /* Border */
  --border-default: #242428;
  --border-active: #1e3a5f;

  /* Spacing */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --space-8: 32px;

  /* Border Radius */
  --radius-card: 10px;
  --radius-tab: 6px;

  /* Animation */
  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 250ms;
  --ease-default: ease;
  --ease-out: ease-out;
}
```

---

## 参考にしたアプリ・リソース

### UXパターン

- **ELSA Speak** -- 直感的なUI、リアルタイムフィードバック。ただし「Continue」ボタンの自動化不足が指摘
- **ipachart.com** -- IPA記号のクリック再生、シンプルな一覧表示。情報密度が高い
- **Cambridge IPA Chart** -- ポップアップで例語表示。行列による視覚整理が参考

### デザイントレンド

- ダークモードは2026年の標準（Android利用者の81.9%が使用）
- カードグリッドによる認知負荷の軽減（-20%）
- アコーディオンはモバイルでの段階的開示に最適

### 意識的に避けた要素

- 純黒(#000)背景 -- 目の疲労。深いグレー(#0A0A0B)を使用
- ゲーミフィケーション要素 -- リファレンスツールに不適合。信頼感を優先
- 過剰なアニメーション -- ダークモードでは装飾がノイズに。スペーシングで階層表現
- 音声再生機能 -- スコープ外。将来の拡張ポイント

---

## 変更履歴

| 日付       | 内容     |
| ---------- | -------- |
| 2026-01-29 | 初版作成 |
